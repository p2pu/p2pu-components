{"version":3,"file":"TimePickerWithLabel.js","names":["React","useState","PropTypes","CreatableSelect","InputWrapper","times","TimePickerWithLabel","props","name","id","label","required","disabled","value","helpText","classes","selectClasses","handleChange","noResultsText","placeholder","isMulti","isClearable","rest","_objectWithoutProperties","_excluded","_useState","errorMessage","_useState2","_slicedToArray","setErrorMessage","convertTo24h","input","regex","match","_match","time","hours","minutes","m","hours24","parseInt","toUpperCase","zeroPaddedHours","slice","concat","convertTo12h","time24h","_time24h$split","split","_time24h$split2","hours12","onChange","selected","_defineProperty","map","s","onInputChange","getSelected","_typeof","v","options","find","o","t","formattedSelection","createElement","_extends","className","isDisabled","classNamePrefix","theme","_objectSpread","colors","primary","primary75","primary50","primary25","propTypes","func","isRequired","string","handleInputChange","bool","array","defaultProps","console","log"],"sources":["../../../src/InputFields/TimePickerWithLabel/TimePickerWithLabel.js"],"sourcesContent":["import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport CreatableSelect from 'react-select/creatable';\nimport InputWrapper from '../InputWrapper'\n\n\nconst times = [\n  \"12:00 AM\",\n  \"12:30 AM\",\n  \"1:00 AM\",\n  \"1:30 AM\",\n  \"2:00 AM\",\n  \"2:30 AM\",\n  \"3:00 AM\",\n  \"3:30 AM\",\n  \"4:00 AM\",\n  \"4:30 AM\",\n  \"5:00 AM\",\n  \"5:30 AM\",\n  \"6:00 AM\",\n  \"6:30 AM\",\n  \"7:00 AM\",\n  \"7:30 AM\",\n  \"8:00 AM\",\n  \"8:30 AM\",\n  \"9:00 AM\",\n  \"9:30 AM\",\n  \"10:00 AM\",\n  \"10:30 AM\",\n  \"11:00 AM\",\n  \"11:30 AM\",\n  \"12:00 PM\",\n  \"12:30 PM\",\n  \"1:00 PM\",\n  \"1:30 PM\",\n  \"2:00 PM\",\n  \"2:30 PM\",\n  \"3:00 PM\",\n  \"3:30 PM\",\n  \"4:00 PM\",\n  \"4:30 PM\",\n  \"5:00 PM\",\n  \"5:30 PM\",\n  \"6:00 PM\",\n  \"6:30 PM\",\n  \"7:00 PM\",\n  \"7:30 PM\",\n  \"8:00 PM\",\n  \"8:30 PM\",\n  \"9:00 PM\",\n  \"9:30 PM\",\n  \"10:00 PM\",\n  \"10:30 PM\",\n  \"11:00 PM\",\n  \"11:30 PM\",\n]\n\n\nconst TimePickerWithLabel = (props) => {\n  const {\n    name,\n    id,\n    label,\n    required,\n    disabled,\n    value,\n    helpText,\n    classes,\n    selectClasses,\n    handleChange,\n    noResultsText,\n    placeholder,\n    isMulti,\n    isClearable,\n    ...rest\n  } = props\n\n  const [errorMessage, setErrorMessage] = useState(props.errorMessage)\n\n  const convertTo24h = input => {\n    const regex = /(1[0-2]|0?[1-9]):([0-5][0-9]) ?([AaPp][Mm])/\n    const match = input.match(regex)\n    if (!match) {\n      return setErrorMessage(\"Please enter a valid time in the format HH:MM AM/PM\")\n    }\n\n    let [time, hours, minutes, m] = match;\n    let hours24;\n\n    hours = parseInt(hours)\n\n    if (m.toUpperCase() === \"PM\") {\n      hours24 = hours < 12 ? hours + 12 : hours\n    } else {\n      hours24 = hours === 12 ? hours - 12 : hours\n    }\n\n    const zeroPaddedHours = ('0' + hours24).slice(-2)\n\n    return `${zeroPaddedHours}:${minutes}`\n  }\n\n  const convertTo12h = time24h => {\n    if (!time24h) return null;\n    let [hours, minutes] = time24h.split(':')\n    hours = parseInt(hours)\n    let hours12 = hours\n    let m = \"AM\"\n\n    if (hours >= 12) {\n      m = \"PM\"\n      hours12 = hours === 12 ? hours : hours - 12;\n    } else {\n      hours12 = hours === 0 ? hours + 12 : hours;\n    }\n\n    return `${hours12}:${minutes} ${m}`\n  }\n\n  const onChange = selected => {\n    if (!selected) { return handleChange({[name]: null }) }\n\n    if (isMulti) {\n      const value = selected.map(s => convertTo24h(s.label))\n      return handleChange({[name]: value })\n    }\n\n    return handleChange({[name]: convertTo24h(selected.label)})\n  }\n\n  const onInputChange = () => {\n    setErrorMessage(null)\n  }\n\n  const getSelected = value => {\n    if (!value) {\n      return null\n    }\n\n    const label = convertTo12h(value)\n\n    if (isMulti && typeof(value === 'object')) {\n      return value.map(v => options.find(o => o.label === convertTo12h(v)))\n    }\n\n    return options.find(o => o.label === label)\n  }\n\n  const options = times.map(t => {return { label: t, value: t }})\n  const formattedSelection = convertTo12h(value)\n  const selected = formattedSelection ? { label: formattedSelection, value: formattedSelection } : formattedSelection\n\n\n  return(\n    <InputWrapper\n      label={label}\n      name={name}\n      id={id}\n      required={required}\n      disabled={disabled}\n      errorMessage={errorMessage}\n      helpText={helpText}\n      classes={classes}\n    >\n      <CreatableSelect\n        name={ name }\n        className={ selectClasses }\n        value={ selected }\n        options={ options }\n        onChange={ onChange }\n        onInputChange={ onInputChange }\n        noResultsText={ noResultsText }\n        placeholder={ placeholder }\n        isMulti={ isMulti }\n        isClearable={ isClearable }\n        isDisabled={ disabled }\n        classNamePrefix={'react-select'}\n        theme={theme => ({\n          ...theme,\n          colors: {\n            ...theme.colors,\n            primary: '#05c6b4',\n            primary75: '#D3D8E6',\n            primary50: '#e0f7f5',\n            primary25: '#F3F4F8'\n          },\n        })}\n        {...rest}\n      />\n    </InputWrapper>\n  )\n}\n\nTimePickerWithLabel.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  handleInputChange: PropTypes.func,\n  classes: PropTypes.string,\n  selectClasses: PropTypes.string,\n  required: PropTypes.bool,\n  disabled: PropTypes.bool,\n  noResultsText: PropTypes.string,\n  placeholder: PropTypes.string,\n  options: PropTypes.array,\n  errorMessage: PropTypes.string,\n  helpText: PropTypes.string,\n  isClearable: PropTypes.bool,\n  isMulti: PropTypes.bool,\n}\n\n\nTimePickerWithLabel.defaultProps = {\n  classes: \"\",\n  label: \"Time picker\",\n  handleChange: (input) => console.log(\"Implement a function to save selection\", input),\n  required: false,\n  disabled: false,\n  errorMessage: null,\n  value: \"\",\n  isClearable: true,\n  isMulti: false,\n  placeholder: \"HH:MM AM/PM\",\n  helpText: 'Select a time or type it in.'\n}\n\nexport default TimePickerWithLabel;\n"],"mappings":"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"}