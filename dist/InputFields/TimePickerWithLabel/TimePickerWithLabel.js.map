{"version":3,"file":"TimePickerWithLabel.js","names":["React","useState","PropTypes","CreatableSelect","InputWrapper","times","TimePickerWithLabel","props","name","id","label","required","disabled","value","helpText","classes","selectClasses","handleChange","noResultsText","placeholder","isMulti","isClearable","rest","errorMessage","setErrorMessage","convertTo24h","input","regex","match","time","hours","minutes","m","hours24","parseInt","toUpperCase","zeroPaddedHours","slice","convertTo12h","time24h","split","hours12","onChange","selected","map","s","onInputChange","getSelected","v","options","find","o","t","formattedSelection","theme","colors","primary","primary75","primary50","primary25","propTypes","func","isRequired","string","handleInputChange","bool","array","defaultProps","console","log"],"sources":["../../../src/InputFields/TimePickerWithLabel/TimePickerWithLabel.js"],"sourcesContent":["import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport CreatableSelect from 'react-select/creatable';\nimport InputWrapper from '../InputWrapper'\n\n\nconst times = [\n  \"12:00 AM\",\n  \"12:30 AM\",\n  \"1:00 AM\",\n  \"1:30 AM\",\n  \"2:00 AM\",\n  \"2:30 AM\",\n  \"3:00 AM\",\n  \"3:30 AM\",\n  \"4:00 AM\",\n  \"4:30 AM\",\n  \"5:00 AM\",\n  \"5:30 AM\",\n  \"6:00 AM\",\n  \"6:30 AM\",\n  \"7:00 AM\",\n  \"7:30 AM\",\n  \"8:00 AM\",\n  \"8:30 AM\",\n  \"9:00 AM\",\n  \"9:30 AM\",\n  \"10:00 AM\",\n  \"10:30 AM\",\n  \"11:00 AM\",\n  \"11:30 AM\",\n  \"12:00 PM\",\n  \"12:30 PM\",\n  \"1:00 PM\",\n  \"1:30 PM\",\n  \"2:00 PM\",\n  \"2:30 PM\",\n  \"3:00 PM\",\n  \"3:30 PM\",\n  \"4:00 PM\",\n  \"4:30 PM\",\n  \"5:00 PM\",\n  \"5:30 PM\",\n  \"6:00 PM\",\n  \"6:30 PM\",\n  \"7:00 PM\",\n  \"7:30 PM\",\n  \"8:00 PM\",\n  \"8:30 PM\",\n  \"9:00 PM\",\n  \"9:30 PM\",\n  \"10:00 PM\",\n  \"10:30 PM\",\n  \"11:00 PM\",\n  \"11:30 PM\",\n]\n\n\nconst TimePickerWithLabel = (props) => {\n  const {\n    name,\n    id,\n    label,\n    required,\n    disabled,\n    value,\n    helpText,\n    classes,\n    selectClasses,\n    handleChange,\n    noResultsText,\n    placeholder,\n    isMulti,\n    isClearable,\n    ...rest\n  } = props\n\n  const [errorMessage, setErrorMessage] = useState(props.errorMessage)\n\n  const convertTo24h = input => {\n    const regex = /(1[0-2]|0?[1-9]):([0-5][0-9]) ?([AaPp][Mm])/\n    const match = input.match(regex)\n    if (!match) {\n      return setErrorMessage(\"Please enter a valid time in the format HH:MM AM/PM\")\n    }\n\n    let [time, hours, minutes, m] = match;\n    let hours24;\n\n    hours = parseInt(hours)\n\n    if (m.toUpperCase() === \"PM\") {\n      hours24 = hours < 12 ? hours + 12 : hours\n    } else {\n      hours24 = hours === 12 ? hours - 12 : hours\n    }\n\n    const zeroPaddedHours = ('0' + hours24).slice(-2)\n\n    return `${zeroPaddedHours}:${minutes}`\n  }\n\n  const convertTo12h = time24h => {\n    if (!time24h) return null;\n    let [hours, minutes] = time24h.split(':')\n    hours = parseInt(hours)\n    let hours12 = hours\n    let m = \"AM\"\n\n    if (hours >= 12) {\n      m = \"PM\"\n      hours12 = hours === 12 ? hours : hours - 12;\n    } else {\n      hours12 = hours === 0 ? hours + 12 : hours;\n    }\n\n    return `${hours12}:${minutes} ${m}`\n  }\n\n  const onChange = selected => {\n    if (!selected) { return handleChange({[name]: null }) }\n\n    if (isMulti) {\n      const value = selected.map(s => convertTo24h(s.label))\n      return handleChange({[name]: value })\n    }\n\n    return handleChange({[name]: convertTo24h(selected.label)})\n  }\n\n  const onInputChange = () => {\n    setErrorMessage(null)\n  }\n\n  const getSelected = value => {\n    if (!value) {\n      return null\n    }\n\n    const label = convertTo12h(value)\n\n    if (isMulti && typeof(value === 'object')) {\n      return value.map(v => options.find(o => o.label === convertTo12h(v)))\n    }\n\n    return options.find(o => o.label === label)\n  }\n\n  const options = times.map(t => {return { label: t, value: t }})\n  const formattedSelection = convertTo12h(value)\n  const selected = formattedSelection ? { label: formattedSelection, value: formattedSelection } : formattedSelection\n\n\n  return(\n    <InputWrapper\n      label={label}\n      name={name}\n      id={id}\n      required={required}\n      disabled={disabled}\n      errorMessage={errorMessage}\n      helpText={helpText}\n      classes={classes}\n    >\n      <CreatableSelect\n        name={ name }\n        className={ selectClasses }\n        value={ selected }\n        options={ options }\n        onChange={ onChange }\n        onInputChange={ onInputChange }\n        noResultsText={ noResultsText }\n        placeholder={ placeholder }\n        isMulti={ isMulti }\n        isClearable={ isClearable }\n        isDisabled={ disabled }\n        classNamePrefix={'react-select'}\n        theme={theme => ({\n          ...theme,\n          colors: {\n            ...theme.colors,\n            primary: '#05c6b4',\n            primary75: '#D3D8E6',\n            primary50: '#e0f7f5',\n            primary25: '#F3F4F8'\n          },\n        })}\n        {...rest}\n      />\n    </InputWrapper>\n  )\n}\n\nTimePickerWithLabel.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  handleInputChange: PropTypes.func,\n  classes: PropTypes.string,\n  selectClasses: PropTypes.string,\n  required: PropTypes.bool,\n  disabled: PropTypes.bool,\n  noResultsText: PropTypes.string,\n  placeholder: PropTypes.string,\n  options: PropTypes.array,\n  errorMessage: PropTypes.string,\n  helpText: PropTypes.string,\n  isClearable: PropTypes.bool,\n  isMulti: PropTypes.bool,\n}\n\n\nTimePickerWithLabel.defaultProps = {\n  classes: \"\",\n  label: \"Time picker\",\n  handleChange: (input) => console.log(\"Implement a function to save selection\", input),\n  required: false,\n  disabled: false,\n  errorMessage: null,\n  value: \"\",\n  isClearable: true,\n  isMulti: false,\n  placeholder: \"HH:MM AM/PM\",\n  helpText: 'Select a time or type it in.'\n}\n\nexport default TimePickerWithLabel;\n"],"mappings":";;;;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,eAAe,MAAM,wBAAwB;AACpD,OAAOC,YAAY,MAAM,iBAAiB;AAG1C,IAAMC,KAAK,GAAG,CACZ,UAAU,EACV,UAAU,EACV,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,CACX;AAGD,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmB,CAAIC,KAAK,EAAK;EACrC,IACEC,IAAI,GAeFD,KAAK,CAfPC,IAAI;IACJC,EAAE,GAcAF,KAAK,CAdPE,EAAE;IACFC,KAAK,GAaHH,KAAK,CAbPG,KAAK;IACLC,QAAQ,GAYNJ,KAAK,CAZPI,QAAQ;IACRC,QAAQ,GAWNL,KAAK,CAXPK,QAAQ;IACRC,KAAK,GAUHN,KAAK,CAVPM,KAAK;IACLC,QAAQ,GASNP,KAAK,CATPO,QAAQ;IACRC,OAAO,GAQLR,KAAK,CARPQ,OAAO;IACPC,aAAa,GAOXT,KAAK,CAPPS,aAAa;IACbC,YAAY,GAMVV,KAAK,CANPU,YAAY;IACZC,aAAa,GAKXX,KAAK,CALPW,aAAa;IACbC,WAAW,GAITZ,KAAK,CAJPY,WAAW;IACXC,OAAO,GAGLb,KAAK,CAHPa,OAAO;IACPC,WAAW,GAETd,KAAK,CAFPc,WAAW;IACRC,IAAI,4BACLf,KAAK;EAET,gBAAwCN,QAAQ,CAACM,KAAK,CAACgB,YAAY,CAAC;IAAA;IAA7DA,YAAY;IAAEC,eAAe;EAEpC,IAAMC,YAAY,GAAG,SAAfA,YAAY,CAAGC,KAAK,EAAI;IAC5B,IAAMC,KAAK,GAAG,6CAA6C;IAC3D,IAAMC,KAAK,GAAGF,KAAK,CAACE,KAAK,CAACD,KAAK,CAAC;IAChC,IAAI,CAACC,KAAK,EAAE;MACV,OAAOJ,eAAe,CAAC,qDAAqD,CAAC;IAC/E;IAEA,4BAAgCI,KAAK;MAAhCC,IAAI;MAAEC,KAAK;MAAEC,OAAO;MAAEC,CAAC;IAC5B,IAAIC,OAAO;IAEXH,KAAK,GAAGI,QAAQ,CAACJ,KAAK,CAAC;IAEvB,IAAIE,CAAC,CAACG,WAAW,EAAE,KAAK,IAAI,EAAE;MAC5BF,OAAO,GAAGH,KAAK,GAAG,EAAE,GAAGA,KAAK,GAAG,EAAE,GAAGA,KAAK;IAC3C,CAAC,MAAM;MACLG,OAAO,GAAGH,KAAK,KAAK,EAAE,GAAGA,KAAK,GAAG,EAAE,GAAGA,KAAK;IAC7C;IAEA,IAAMM,eAAe,GAAG,CAAC,GAAG,GAAGH,OAAO,EAAEI,KAAK,CAAC,CAAC,CAAC,CAAC;IAEjD,iBAAUD,eAAe,cAAIL,OAAO;EACtC,CAAC;EAED,IAAMO,YAAY,GAAG,SAAfA,YAAY,CAAGC,OAAO,EAAI;IAC9B,IAAI,CAACA,OAAO,EAAE,OAAO,IAAI;IACzB,qBAAuBA,OAAO,CAACC,KAAK,CAAC,GAAG,CAAC;MAAA;MAApCV,KAAK;MAAEC,OAAO;IACnBD,KAAK,GAAGI,QAAQ,CAACJ,KAAK,CAAC;IACvB,IAAIW,OAAO,GAAGX,KAAK;IACnB,IAAIE,CAAC,GAAG,IAAI;IAEZ,IAAIF,KAAK,IAAI,EAAE,EAAE;MACfE,CAAC,GAAG,IAAI;MACRS,OAAO,GAAGX,KAAK,KAAK,EAAE,GAAGA,KAAK,GAAGA,KAAK,GAAG,EAAE;IAC7C,CAAC,MAAM;MACLW,OAAO,GAAGX,KAAK,KAAK,CAAC,GAAGA,KAAK,GAAG,EAAE,GAAGA,KAAK;IAC5C;IAEA,iBAAUW,OAAO,cAAIV,OAAO,cAAIC,CAAC;EACnC,CAAC;EAED,IAAMU,QAAQ,GAAG,SAAXA,QAAQ,CAAGC,QAAQ,EAAI;IAC3B,IAAI,CAACA,QAAQ,EAAE;MAAE,OAAO1B,YAAY,qBAAGT,IAAI,EAAG,IAAI,EAAG;IAAC;IAEtD,IAAIY,OAAO,EAAE;MACX,IAAMP,MAAK,GAAG8B,QAAQ,CAACC,GAAG,CAAC,UAAAC,CAAC;QAAA,OAAIpB,YAAY,CAACoB,CAAC,CAACnC,KAAK,CAAC;MAAA,EAAC;MACtD,OAAOO,YAAY,qBAAGT,IAAI,EAAGK,MAAK,EAAG;IACvC;IAEA,OAAOI,YAAY,qBAAGT,IAAI,EAAGiB,YAAY,CAACkB,QAAQ,CAACjC,KAAK,CAAC,EAAE;EAC7D,CAAC;EAED,IAAMoC,aAAa,GAAG,SAAhBA,aAAa,GAAS;IAC1BtB,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;EAED,IAAMuB,WAAW,GAAG,SAAdA,WAAW,CAAGlC,KAAK,EAAI;IAC3B,IAAI,CAACA,KAAK,EAAE;MACV,OAAO,IAAI;IACb;IAEA,IAAMH,KAAK,GAAG4B,YAAY,CAACzB,KAAK,CAAC;IAEjC,IAAIO,OAAO,YAAWP,KAAK,KAAK,QAAQ,CAAC,EAAE;MACzC,OAAOA,KAAK,CAAC+B,GAAG,CAAC,UAAAI,CAAC;QAAA,OAAIC,OAAO,CAACC,IAAI,CAAC,UAAAC,CAAC;UAAA,OAAIA,CAAC,CAACzC,KAAK,KAAK4B,YAAY,CAACU,CAAC,CAAC;QAAA,EAAC;MAAA,EAAC;IACvE;IAEA,OAAOC,OAAO,CAACC,IAAI,CAAC,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAACzC,KAAK,KAAKA,KAAK;IAAA,EAAC;EAC7C,CAAC;EAED,IAAMuC,OAAO,GAAG5C,KAAK,CAACuC,GAAG,CAAC,UAAAQ,CAAC,EAAI;IAAC,OAAO;MAAE1C,KAAK,EAAE0C,CAAC;MAAEvC,KAAK,EAAEuC;IAAE,CAAC;EAAA,CAAC,CAAC;EAC/D,IAAMC,kBAAkB,GAAGf,YAAY,CAACzB,KAAK,CAAC;EAC9C,IAAM8B,QAAQ,GAAGU,kBAAkB,GAAG;IAAE3C,KAAK,EAAE2C,kBAAkB;IAAExC,KAAK,EAAEwC;EAAmB,CAAC,GAAGA,kBAAkB;EAGnH,oBACE,oBAAC,YAAY;IACX,KAAK,EAAE3C,KAAM;IACb,IAAI,EAAEF,IAAK;IACX,EAAE,EAAEC,EAAG;IACP,QAAQ,EAAEE,QAAS;IACnB,QAAQ,EAAEC,QAAS;IACnB,YAAY,EAAEW,YAAa;IAC3B,QAAQ,EAAET,QAAS;IACnB,OAAO,EAAEC;EAAQ,gBAEjB,oBAAC,eAAe;IACd,IAAI,EAAGP,IAAM;IACb,SAAS,EAAGQ,aAAe;IAC3B,KAAK,EAAG2B,QAAU;IAClB,OAAO,EAAGM,OAAS;IACnB,QAAQ,EAAGP,QAAU;IACrB,aAAa,EAAGI,aAAe;IAC/B,aAAa,EAAG5B,aAAe;IAC/B,WAAW,EAAGC,WAAa;IAC3B,OAAO,EAAGC,OAAS;IACnB,WAAW,EAAGC,WAAa;IAC3B,UAAU,EAAGT,QAAU;IACvB,eAAe,EAAE,cAAe;IAChC,KAAK,EAAE,eAAA0C,MAAK;MAAA,uCACPA,MAAK;QACRC,MAAM,kCACDD,MAAK,CAACC,MAAM;UACfC,OAAO,EAAE,SAAS;UAClBC,SAAS,EAAE,SAAS;UACpBC,SAAS,EAAE,SAAS;UACpBC,SAAS,EAAE;QAAS;MACrB;IAAA;EACA,GACCrC,IAAI,EACR,CACW;AAEnB,CAAC;AAEDhB,mBAAmB,CAACsD,SAAS,GAAG;EAC9B3C,YAAY,EAAEf,SAAS,CAAC2D,IAAI,CAACC,UAAU;EACvCtD,IAAI,EAAEN,SAAS,CAAC6D,MAAM,CAACD,UAAU;EACjCpD,KAAK,EAAER,SAAS,CAAC6D,MAAM,CAACD,UAAU;EAClCE,iBAAiB,EAAE9D,SAAS,CAAC2D,IAAI;EACjC9C,OAAO,EAAEb,SAAS,CAAC6D,MAAM;EACzB/C,aAAa,EAAEd,SAAS,CAAC6D,MAAM;EAC/BpD,QAAQ,EAAET,SAAS,CAAC+D,IAAI;EACxBrD,QAAQ,EAAEV,SAAS,CAAC+D,IAAI;EACxB/C,aAAa,EAAEhB,SAAS,CAAC6D,MAAM;EAC/B5C,WAAW,EAAEjB,SAAS,CAAC6D,MAAM;EAC7Bd,OAAO,EAAE/C,SAAS,CAACgE,KAAK;EACxB3C,YAAY,EAAErB,SAAS,CAAC6D,MAAM;EAC9BjD,QAAQ,EAAEZ,SAAS,CAAC6D,MAAM;EAC1B1C,WAAW,EAAEnB,SAAS,CAAC+D,IAAI;EAC3B7C,OAAO,EAAElB,SAAS,CAAC+D;AACrB,CAAC;AAGD3D,mBAAmB,CAAC6D,YAAY,GAAG;EACjCpD,OAAO,EAAE,EAAE;EACXL,KAAK,EAAE,aAAa;EACpBO,YAAY,EAAE,sBAACS,KAAK;IAAA,OAAK0C,OAAO,CAACC,GAAG,CAAC,wCAAwC,EAAE3C,KAAK,CAAC;EAAA;EACrFf,QAAQ,EAAE,KAAK;EACfC,QAAQ,EAAE,KAAK;EACfW,YAAY,EAAE,IAAI;EAClBV,KAAK,EAAE,EAAE;EACTQ,WAAW,EAAE,IAAI;EACjBD,OAAO,EAAE,KAAK;EACdD,WAAW,EAAE,aAAa;EAC1BL,QAAQ,EAAE;AACZ,CAAC;AAED,eAAeR,mBAAmB"}