{"version":3,"sources":["../../../src/InputFields/TimePickerWithLabel/TimePickerWithLabel.js"],"names":["React","useState","PropTypes","CreatableSelect","InputWrapper","times","TimePickerWithLabel","props","name","id","label","required","disabled","value","helpText","classes","selectClasses","handleChange","noResultsText","placeholder","isMulti","isClearable","rest","errorMessage","setErrorMessage","convertTo24h","input","regex","match","time","hours","minutes","m","hours24","parseInt","toUpperCase","zeroPaddedHours","slice","convertTo12h","time24h","split","hours12","onChange","selected","map","s","onInputChange","getSelected","v","options","find","o","t","formattedSelection","theme","colors","primary","primary75","primary50","primary25","propTypes","func","isRequired","string","handleInputChange","bool","array","defaultProps","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport CreatableSelect from 'react-select/creatable';\nimport InputWrapper from '../InputWrapper'\n\n\nconst times = [\n  \"12:00 AM\",\n  \"12:30 AM\",\n  \"1:00 AM\",\n  \"1:30 AM\",\n  \"2:00 AM\",\n  \"2:30 AM\",\n  \"3:00 AM\",\n  \"3:30 AM\",\n  \"4:00 AM\",\n  \"4:30 AM\",\n  \"5:00 AM\",\n  \"5:30 AM\",\n  \"6:00 AM\",\n  \"6:30 AM\",\n  \"7:00 AM\",\n  \"7:30 AM\",\n  \"8:00 AM\",\n  \"8:30 AM\",\n  \"9:00 AM\",\n  \"9:30 AM\",\n  \"10:00 AM\",\n  \"10:30 AM\",\n  \"11:00 AM\",\n  \"11:30 AM\",\n  \"12:00 PM\",\n  \"12:30 PM\",\n  \"1:00 PM\",\n  \"1:30 PM\",\n  \"2:00 PM\",\n  \"2:30 PM\",\n  \"3:00 PM\",\n  \"3:30 PM\",\n  \"4:00 PM\",\n  \"4:30 PM\",\n  \"5:00 PM\",\n  \"5:30 PM\",\n  \"6:00 PM\",\n  \"6:30 PM\",\n  \"7:00 PM\",\n  \"7:30 PM\",\n  \"8:00 PM\",\n  \"8:30 PM\",\n  \"9:00 PM\",\n  \"9:30 PM\",\n  \"10:00 PM\",\n  \"10:30 PM\",\n  \"11:00 PM\",\n  \"11:30 PM\",\n]\n\n\nconst TimePickerWithLabel = (props) => {\n  const {\n    name,\n    id,\n    label,\n    required,\n    disabled,\n    value,\n    helpText,\n    classes,\n    selectClasses,\n    handleChange,\n    noResultsText,\n    placeholder,\n    isMulti,\n    isClearable,\n    ...rest\n  } = props\n\n  const [errorMessage, setErrorMessage] = useState(props.errorMessage)\n\n  const convertTo24h = input => {\n    const regex = /(1[0-2]|0?[1-9]):([0-5][0-9]) ?([AaPp][Mm])/\n    const match = input.match(regex)\n    if (!match) {\n      return setErrorMessage(\"Please enter a valid time in the format HH:MM AM/PM\")\n    }\n\n    let [time, hours, minutes, m] = match;\n    let hours24;\n\n    hours = parseInt(hours)\n\n    if (m.toUpperCase() === \"PM\") {\n      hours24 = hours < 12 ? hours + 12 : hours\n    } else {\n      hours24 = hours === 12 ? hours - 12 : hours\n    }\n\n    const zeroPaddedHours = ('0' + hours24).slice(-2)\n\n    return `${zeroPaddedHours}:${minutes}`\n  }\n\n  const convertTo12h = time24h => {\n    if (!time24h) return null;\n    let [hours, minutes] = time24h.split(':')\n    hours = parseInt(hours)\n    let hours12 = hours\n    let m = \"AM\"\n\n    if (hours >= 12) {\n      m = \"PM\"\n      hours12 = hours === 12 ? hours : hours - 12;\n    } else {\n      hours12 = hours === 0 ? hours + 12 : hours;\n    }\n\n    return `${hours12}:${minutes} ${m}`\n  }\n\n  const onChange = selected => {\n    if (!selected) { return handleChange({[name]: null }) }\n\n    if (isMulti) {\n      const value = selected.map(s => convertTo24h(s.label))\n      return handleChange({[name]: value })\n    }\n\n    return handleChange({[name]: convertTo24h(selected.label)})\n  }\n\n  const onInputChange = () => {\n    setErrorMessage(null)\n  }\n\n  const getSelected = value => {\n    if (!value) {\n      return null\n    }\n\n    const label = convertTo12h(value)\n\n    if (isMulti && typeof(value === 'object')) {\n      return value.map(v => options.find(o => o.label === convertTo12h(v)))\n    }\n\n    return options.find(o => o.label === label)\n  }\n\n  const options = times.map(t => {return { label: t, value: t }})\n  const formattedSelection = convertTo12h(value)\n  const selected = formattedSelection ? { label: formattedSelection, value: formattedSelection } : formattedSelection\n\n\n  return(\n    <InputWrapper\n      label={label}\n      name={name}\n      id={id}\n      required={required}\n      disabled={disabled}\n      errorMessage={errorMessage}\n      helpText={helpText}\n      classes={classes}\n    >\n      <CreatableSelect\n        name={ name }\n        className={ selectClasses }\n        value={ selected }\n        options={ options }\n        onChange={ onChange }\n        onInputChange={ onInputChange }\n        noResultsText={ noResultsText }\n        placeholder={ placeholder }\n        isMulti={ isMulti }\n        isClearable={ isClearable }\n        isDisabled={ disabled }\n        classNamePrefix={'react-select'}\n        theme={theme => ({\n          ...theme,\n          colors: {\n            ...theme.colors,\n            primary: '#05c6b4',\n            primary75: '#D3D8E6',\n            primary50: '#e0f7f5',\n            primary25: '#F3F4F8'\n          },\n        })}\n        {...rest}\n      />\n    </InputWrapper>\n  )\n}\n\nTimePickerWithLabel.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  handleInputChange: PropTypes.func,\n  classes: PropTypes.string,\n  selectClasses: PropTypes.string,\n  required: PropTypes.bool,\n  disabled: PropTypes.bool,\n  noResultsText: PropTypes.string,\n  placeholder: PropTypes.string,\n  options: PropTypes.array,\n  errorMessage: PropTypes.string,\n  helpText: PropTypes.string,\n  isClearable: PropTypes.bool,\n  isMulti: PropTypes.bool,\n}\n\n\nTimePickerWithLabel.defaultProps = {\n  classes: \"\",\n  label: \"Time picker\",\n  handleChange: (input) => console.log(\"Implement a function to save selection\", input),\n  required: false,\n  disabled: false,\n  errorMessage: null,\n  value: \"\",\n  isClearable: true,\n  isMulti: false,\n  placeholder: \"HH:MM AM/PM\",\n  helpText: 'Select a time or type it in.'\n}\n\nexport default TimePickerWithLabel;\n"],"file":"TimePickerWithLabel.js"}