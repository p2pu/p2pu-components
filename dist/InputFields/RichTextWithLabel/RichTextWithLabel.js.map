{"version":3,"file":"RichTextWithLabel.js","names":["React","useState","PropTypes","InputWrapper","Editor","TextareaWithLabel","props","name","id","label","value","handleChange","required","disabled","errorMessage","helpText","classes","placeholder","apiKey","tinymceScriptSrc","maxLength","rest","_objectWithoutProperties","_excluded","_useState","_useState2","_slicedToArray","charCount","setCharCount","onChange","input","editor","wordcount","plugins","body","getCharacterCount","_defineProperty","erroMessageWithCharCount","concat","createElement","onEditorChange","init","height","menubar","toolbar","defaultProps","type","console","log","propTypes","func","isRequired","string","bool","number"],"sources":["../../../src/InputFields/RichTextWithLabel/RichTextWithLabel.js"],"sourcesContent":["import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport InputWrapper from '../InputWrapper'\nimport { Editor } from '@tinymce/tinymce-react';\n\nconst TextareaWithLabel = (props) => {\n  const {\n    name,\n    id,\n    label,\n    value,\n    handleChange,\n    required,\n    disabled,\n    errorMessage,\n    helpText,\n    classes,\n    placeholder,\n    apiKey,\n    tinymceScriptSrc,\n    maxLength,\n    ...rest\n  } = props;\n\n  const [ charCount, setCharCount ] = useState()\n\n  const onChange = (input, editor) => {\n    const wordcount = editor.plugins.wordcount\n    const charCount = wordcount.body.getCharacterCount()\n\n    setCharCount(charCount)\n    props.handleChange({ [props.name]: input })\n  }\n\n  const erroMessageWithCharCount = charCount > maxLength ? `The text is too long: ${charCount}/${maxLength} characters.` : errorMessage\n\n  return (\n    <InputWrapper\n      label={label}\n      name={name}\n      id={id}\n      required={required}\n      disabled={disabled}\n      errorMessage={erroMessageWithCharCount}\n      helpText={helpText}\n      classes={classes}\n    >\n      <Editor\n        apiKey={apiKey}\n        tinymceScriptSrc={tinymceScriptSrc}\n        value={value}\n        onEditorChange={onChange}\n        init={{\n          height: 300,\n          menubar: false,\n          plugins: [\n            'link lists wordcount'\n          ],\n          toolbar: 'undo redo | formatselect | bold italic | bullist numlist | link | removeformat',\n          'valid_elements': 'p,h3,h4,h5,h6,strong,em,a,a[href|target=_blank|rel=noopener],ul,ol,li,div,span',\n          'block_formats': 'Paragraph=p; Heading 1=h3; Heading 2=h4; Heading 3=h5',\n        }}\n      />\n    </InputWrapper>\n  )\n}\n\nTextareaWithLabel.defaultProps = {\n  type: 'text',\n  value: \"\",\n  required: false,\n  disabled: false,\n  label: 'Textarea input',\n  classes: '',\n  apiKey: '',\n  handleChange: (input) => console.log(\"Implement a function to save input\", input),\n  maxLength: 1000,\n}\n\nTextareaWithLabel.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  apiKey: PropTypes.string.isRequired,\n  type: PropTypes.string,\n  required: PropTypes.bool,\n  disabled: PropTypes.bool,\n  label: PropTypes.string,\n  classes: PropTypes.string,\n  maxLength: PropTypes.number,\n}\n\nexport default TextareaWithLabel;\n"],"mappings":"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"}