{"version":3,"file":"RichTextWithLabel.js","names":["React","useState","PropTypes","InputWrapper","Editor","TextareaWithLabel","props","name","id","label","value","handleChange","required","disabled","errorMessage","helpText","classes","placeholder","apiKey","tinymceScriptSrc","maxLength","rest","charCount","setCharCount","onChange","input","editor","wordcount","plugins","body","getCharacterCount","erroMessageWithCharCount","height","menubar","toolbar","defaultProps","type","console","log","propTypes","func","isRequired","string","bool","number"],"sources":["../../../src/InputFields/RichTextWithLabel/RichTextWithLabel.js"],"sourcesContent":["import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport InputWrapper from '../InputWrapper'\nimport { Editor } from '@tinymce/tinymce-react';\n\nconst TextareaWithLabel = (props) => {\n  const {\n    name,\n    id,\n    label,\n    value,\n    handleChange,\n    required,\n    disabled,\n    errorMessage,\n    helpText,\n    classes,\n    placeholder,\n    apiKey,\n    tinymceScriptSrc,\n    maxLength,\n    ...rest\n  } = props;\n\n  const [ charCount, setCharCount ] = useState()\n\n  const onChange = (input, editor) => {\n    const wordcount = editor.plugins.wordcount\n    const charCount = wordcount.body.getCharacterCount()\n\n    setCharCount(charCount)\n    props.handleChange({ [props.name]: input })\n  }\n\n  const erroMessageWithCharCount = charCount > maxLength ? `The text is too long: ${charCount}/${maxLength} characters.` : errorMessage\n\n  return (\n    <InputWrapper\n      label={label}\n      name={name}\n      id={id}\n      required={required}\n      disabled={disabled}\n      errorMessage={erroMessageWithCharCount}\n      helpText={helpText}\n      classes={classes}\n    >\n      <Editor\n        apiKey={apiKey}\n        tinymceScriptSrc={tinymceScriptSrc}\n        value={value}\n        onEditorChange={onChange}\n        init={{\n          height: 300,\n          menubar: false,\n          plugins: [\n            'link lists wordcount'\n          ],\n          toolbar: 'undo redo | formatselect | bold italic | bullist numlist | link | removeformat',\n          'valid_elements': 'p,h3,h4,h5,h6,strong,em,a,a[href|target=_blank|rel=noopener],ul,ol,li,div,span',\n          'block_formats': 'Paragraph=p; Heading 1=h3; Heading 2=h4; Heading 3=h5',\n        }}\n      />\n    </InputWrapper>\n  )\n}\n\nTextareaWithLabel.defaultProps = {\n  type: 'text',\n  value: \"\",\n  required: false,\n  disabled: false,\n  label: 'Textarea input',\n  classes: '',\n  apiKey: '',\n  handleChange: (input) => console.log(\"Implement a function to save input\", input),\n  maxLength: 1000,\n}\n\nTextareaWithLabel.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  apiKey: PropTypes.string.isRequired,\n  type: PropTypes.string,\n  required: PropTypes.bool,\n  disabled: PropTypes.bool,\n  label: PropTypes.string,\n  classes: PropTypes.string,\n  maxLength: PropTypes.number,\n}\n\nexport default TextareaWithLabel;\n"],"mappings":"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"}