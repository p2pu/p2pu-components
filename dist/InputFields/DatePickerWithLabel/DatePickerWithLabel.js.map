{"version":3,"sources":["../../../src/InputFields/DatePickerWithLabel/DatePickerWithLabel.js"],"names":["React","useState","useRef","PropTypes","InputWrapper","displayFormat","formatDateString","date","year","getFullYear","month","getMonth","slice","day","getDate","DatePickerWithLabel","props","browserError","setBrowserError","label","name","id","value","handleChange","handleBlur","required","disabled","classes","type","errorMessage","helpText","placeholder","labelPosition","minDate","maxDate","rest","inputEl","onChange","e","currentTarget","checkValidity","validationMessage","current","combinedErrorMessage","filter","Boolean","join","min","max","propTypes","func","isRequired","string","bool","object","defaultProps","input","console","log","Date"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport InputWrapper from '../InputWrapper'\n\nconst displayFormat = 'MMMM d, yyyy'\n\nconst formatDateString = date => {\n  const year = date.getFullYear()\n  const month = `0${date.getMonth() + 1}`.slice(-2)\n  const day = `0${date.getDate()}`.slice(-2)\n\n  return `${year}-${month}-${day}`\n}\n\nconst DatePickerWithLabel = (props) => {\n  const [ browserError, setBrowserError ] = useState()\n  const {\n    label,\n    name,\n    id,\n    value,\n    handleChange,\n    handleBlur,\n    required,\n    disabled,\n    classes,\n    type,\n    errorMessage,\n    helpText,\n    placeholder,\n    labelPosition,\n    minDate,\n    maxDate,\n    ...rest\n  } = props;\n\n  const inputEl = useRef()\n\n  const onChange = (e) => {\n    setBrowserError(null)\n    handleChange({ [name]: e.currentTarget.value })\n  }\n\n  const checkValidity = () => {\n    const validationMessage = inputEl.current.validationMessage\n    setBrowserError(validationMessage)\n    if (handleBlur) {\n      handleBlur(inputEl.current.value)\n    }\n  }\n\n  const combinedErrorMessage = [browserError, errorMessage].filter(Boolean).join(\"; \")\n  const min = minDate ? formatDateString(minDate) : null\n  const max = maxDate ? formatDateString(maxDate) : null\n\n  return(\n    <InputWrapper\n      label={label}\n      name={name}\n      id={id}\n      required={required}\n      errorMessage={combinedErrorMessage}\n      helpText={helpText}\n      classes={classes}\n    >\n      <input\n        ref={inputEl}\n        type=\"date\"\n        id={name}\n        value={value}\n        onChange={onChange}\n        onBlur={checkValidity}\n        placeholder={\"YYYY-MM-DD\"}\n        required={required}\n        disabled={disabled}\n        className=\"form-control\"\n        min={min}\n        max={max}\n        pattern=\"\\d{4}-\\d{2}-\\d{2}\"\n        {...rest}\n      />\n    </InputWrapper>\n  )\n}\n\nDatePickerWithLabel.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  classes: PropTypes.string,\n  required: PropTypes.bool,\n  disabled: PropTypes.bool,\n  errorMessage: PropTypes.string,\n  helpText: PropTypes.string,\n  value: PropTypes.string,\n  minDate: PropTypes.object,\n  maxDate: PropTypes.object,\n}\n\nDatePickerWithLabel.defaultProps = {\n  classes: \"\",\n  label: \"Time picker\",\n  handleChange: (input) => console.log(\"Implement a function to save selection\", input),\n  required: false,\n  disabled: false,\n  value: \"\",\n  maxDate: new Date(2999,12,31)\n}\n\nexport default DatePickerWithLabel;\n"],"file":"DatePickerWithLabel.js"}