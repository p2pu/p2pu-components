{"version":3,"sources":["../../src/Search/SearchTags.jsx"],"names":["React","t","jt","ngettext","msgid","isoCodeToLangName","MEETING_DAYS","SEARCH_SUBJECTS","COURSES_SORT_OPTIONS","SearchTag","value","onDelete","cursor","SearchTags","props","generateQueryTag","q","updateQueryParams","generateTeamNameTag","teamName","team_id","document","getElementById","style","display","humanReadableName","decodeURIComponent","generateLanguageTag","languages","length","newLanguagesArray","filter","v","introPhrase","languagesTagsArray","map","item","index","push","languageName","generateOrderTag","searchSubject","order","find","label","generateOerTag","oer","generateTopicsTags","topics","newTopicsArray","topicsTagsArray","generateLocationTag","latitude","longitude","unit","useMiles","distance","Math","round","text","city","generateTagsPhrase","tag","generateSearchSummary","searchSummaryItems","forSearchSubject","withSpan","tagsToDisplay","resultsCount","searchResults","totalResults","tagsArray","reloadWindow","window","history","replaceState","title","location","pathname","reload","noResults","resetButton","isLoading"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { t, jt, ngettext, msgid } from 'ttag';\n\nimport {isoCodeToLangName} from '../utils/i18n';\nimport { MEETING_DAYS, SEARCH_SUBJECTS, COURSES_SORT_OPTIONS } from '../utils/constants';\n\n\nconst SearchTag = ({ value, onDelete }) => {\n  return(\n    <div className='search-tag'>\n      {value}\n      <i className=\"material-icons\" onClick={ () => onDelete(value) } style={{ cursor: 'pointer' }}>clear</i>\n    </div>\n  )\n}\n\nconst SearchTags = (props) => {\n  const generateQueryTag = () => {\n    if (props.q) {\n      const onDelete = (value) => { props.updateQueryParams({ q: null }) }\n\n      return [<SearchTag key='queryTag-0' value={props.q} onDelete={onDelete} />];\n      return [<span key='queryTagIntro'>the search query</span>, <SearchTag key='queryTag-0' value={props.q} onDelete={onDelete} />];\n    }\n  }\n\n  const generateTeamNameTag = () => {\n    if (props.teamName) {\n      const onDelete = (value) => {\n        props.updateQueryParams({ teamName: null, team_id: null })\n        document.getElementById('team-title').style.display = 'none';\n        document.getElementById('search-subtitle').style.display = 'block';\n      }\n      const humanReadableName = decodeURIComponent(props.teamName);\n\n      return [<SearchTag key='queryTag-0' value={humanReadableName} onDelete={onDelete} />];\n      return [<span key='queryTagIntro'>organized by</span>, <SearchTag key='queryTag-0' value={humanReadableName} onDelete={onDelete} />];\n    }\n  }\n\n  const generateLanguageTag = () => {\n    if (props.languages && props.languages.length > 0) {\n      const onDelete = (value) => {\n        const newLanguagesArray = props.languages.filter(v => v != value);\n        const languages = newLanguagesArray.length > 0 ? newLanguagesArray : null\n        props.updateQueryParams({ languages })\n      }\n\n      const introPhrase = props.languages.length === 1 ? 'in' : 'in';\n      let languagesTagsArray = [<span key='languageTagIntro'>{introPhrase}</span>]\n\n      props.languages.map((item, index) => {\n        if (props.languages.length > 1 && index === (props.languages.length - 1)) {\n          languagesTagsArray.push(<span key={`languageTag-${index + 2}`}>or</span>)\n        }\n        let languageName = isoCodeToLangName(item)\n\n        languagesTagsArray.push(<SearchTag value={languageName} key={`languageTag-${index}`} onDelete={() => onDelete(item)} />)\n      })\n\n      return languagesTagsArray;\n    }\n  }\n\n  const generateOrderTag = () => {\n    if (props.searchSubject === 'courses' && props.order) {\n      const onDelete = (value) => { props.updateQueryParams({ order: null }) };\n      const order = COURSES_SORT_OPTIONS.find(order => order.value == props.order)\n\n      return [<span key='queryTagIntro'>sorted by </span>, <SearchTag key='queryTag-0' value={order.label} onDelete={onDelete} />];\n    }\n  }\n\n  const generateOerTag = () => {\n    if (props.oer) {\n      const onDelete = (value) => { props.updateQueryParams({ oer: false }) };\n\n      return [<span key='queryTagIntro'>that are </span>, <SearchTag key='queryTag-0' value={\"OER\"} onDelete={onDelete} />];\n    }\n  }\n\n  const generateTopicsTags = () => {\n    if (props.topics && props.topics.length > 0) {\n      const onDelete = (value) => {\n        const newTopicsArray =  props.topics.filter(v => v != value);\n        const topics = newTopicsArray.length > 0 ? newTopicsArray : null\n        props.updateQueryParams({ topics })\n      }\n\n      const introPhrase = props.topics.length === 1 ? 'the topic' : 'the topics';\n      let topicsTagsArray = [<span key='topicTagIntro'>{introPhrase}</span>]\n      topicsTagsArray = []; // TODO\n\n      props.topics.map((item, index) => {\n        if (props.topics.length > 1 && index === (props.topics.length - 1)) {\n          topicsTagsArray.push(<span key={`topicTag-${index + 2}`}>or</span>)\n        }\n\n        topicsTagsArray.push(<SearchTag value={item} key={`topicTag-${index}`} onDelete={onDelete} />)\n      })\n\n      return topicsTagsArray;\n    }\n  }\n\n  const generateLocationTag = () => {\n    if (props.latitude && props.longitude) {\n      const unit = props.useMiles ? 'miles' : 'km';\n      let value = props.useMiles ? props.distance * 0.62 : props.distance;\n      value = Math.round(value / 5) * 5;\n      const text = t`Within ${ value } ${ unit }`;\n      const onDelete = (value) => {\n        props.updateQueryParams({ latitude: null, longitude: null, distance: 50 })\n      }\n      return [<SearchTag key='locationTag-0' value={text} onDelete={onDelete} />];\n      return [<span key='locationTagIntro'>located</span>, <SearchTag key='locationTag-0' value={text} onDelete={onDelete} />];\n    } else if (props.city) {\n      const onDelete = (value) => {\n        props.updateQueryParams({ city: null })\n      }\n      return [<SearchTag key='locationTag-0' value={props.city} onDelete={onDelete} />];\n      return [<span key='locationTagIntro'>located in</span>, <SearchTag key='locationTag-0' value={props.city} onDelete={onDelete} />];\n    }\n  }\n\n  const generateTagsPhrase = (tag) => {\n    switch (tag) {\n      case 'q':\n      return generateQueryTag();\n      case 'topics':\n      return generateTopicsTags();\n      case 'location':\n      return generateLocationTag();\n      case 'teamName':\n      return generateTeamNameTag();\n      case 'language':\n      return generateLanguageTag();\n      case 'order':\n      return generateOrderTag();\n      case 'oer':\n      return generateOerTag();\n    }\n  }\n\n  const generateSearchSummary = () => {\n    let searchSummaryItems = []\n    const forSearchSubject = <span key='resultsSummary-1'>for {SEARCH_SUBJECTS[props.searchSubject]}</span>;\n    const withSpan = <span key='resultsSummary-2'>with</span>;\n    const tagsToDisplay = ['q', 'topics', 'location', 'meetingDays', 'language', 'teamName', 'order', 'oer'];\n    const resultsCount =\n      <span key='resultsSummary-0'>{\n        ngettext(\n          msgid`Showing ${props.searchResults.length} of ${props.totalResults} result`,\n          `Showing ${props.searchResults.length} of ${props.totalResults} results`,\n          props.totalResults\n        )\n      }</span>\n\n    if (props.searchSubject === 'courses') {\n      searchSummaryItems.push(resultsCount)\n    }\n\n    tagsToDisplay.map((tag) => {\n      const tagsArray = generateTagsPhrase(tag);\n\n      if (!!tagsArray) {\n        if (searchSummaryItems.length === 1) {\n          // TODO searchSummaryItems.push(forSearchSubject)\n          if (tag === 'q' || tag === 'topics') {\n            // TODO searchSummaryItems.push(withSpan)\n          }\n        } else {\n          // TODO searchSummaryItems.push(<span key={`resultsSummary-${searchSummaryItems.length}`}>and</span>)\n        }\n        searchSummaryItems.push(tagsArray)\n      }\n    })\n\n    return searchSummaryItems;\n  }\n\n  const reloadWindow = () => {\n    if (typeof window !== `undefined`) {\n      window.history.replaceState({}, document.title, window.location.pathname)\n      window.location.reload()\n    }\n  }\n\n  const noResults = props.searchResults.length === 0;\n  const resetButton = <button key=\"reset-search\" onClick={reloadWindow} className='p2pu-btn light with-outline'>{t`reset the search form`}</button>;\n\n  return(\n    <div className='results-summary'>\n      <div className='search-tags wrapper'>\n        {generateSearchSummary()}\n      </div>\n      { noResults && !props.isLoading &&\n        <div className='clear-search'>\n          {jt`To see more results, either remove some filters or ${resetButton}`}\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default SearchTags;\n"],"file":"SearchTags.js"}