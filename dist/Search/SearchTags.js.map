{"version":3,"file":"SearchTags.js","names":["React","t","jt","ngettext","msgid","isoCodeToLangName","MEETING_DAYS","SEARCH_SUBJECTS","COURSES_SORT_OPTIONS","SearchTag","_ref","value","onDelete","createElement","className","onClick","style","cursor","SearchTags","props","generateQueryTag","q","updateQueryParams","key","generateTeamNameTag","teamName","team_id","document","getElementById","display","humanReadableName","decodeURIComponent","generateLanguageTag","languages","length","newLanguagesArray","filter","v","introPhrase","languagesTagsArray","map","item","index","push","concat","languageName","generateOrderTag","searchSubject","order","find","label","generateOerTag","oer","generateOnlineTag","online","generateTopicsTags","topics","newTopicsArray","topicsTagsArray","generateLocationTag","latitude","longitude","unit","useMiles","distance","Math","round","text","_templateObject","_taggedTemplateLiteral","city","generateTagsPhrase","tag","generateSearchSummary","searchSummaryItems","forSearchSubject","withSpan","tagsToDisplay","resultsCount","_templateObject2","searchResults","totalResults","tagsArray","reloadWindow","window","_typeof","history","replaceState","title","location","pathname","reload","noResults","resetButton","_templateObject3","isLoading","_templateObject4"],"sources":["../../src/Search/SearchTags.jsx"],"sourcesContent":["import React from 'react';\nimport { t, jt, ngettext, msgid } from 'ttag';\n\nimport {isoCodeToLangName} from '../utils/i18n';\nimport { MEETING_DAYS, SEARCH_SUBJECTS, COURSES_SORT_OPTIONS } from '../utils/constants';\n\n\nconst SearchTag = ({ value, onDelete }) => {\n  return(\n    <div className='search-tag'>\n      {value}\n      <i className=\"material-icons\" onClick={ () => onDelete(value) } style={{ cursor: 'pointer' }}>clear</i>\n    </div>\n  )\n}\n\nconst SearchTags = (props) => {\n  const generateQueryTag = () => {\n    if (props.q) {\n      const onDelete = (value) => { props.updateQueryParams({ q: null }) }\n\n      return [<SearchTag key='queryTag-0' value={props.q} onDelete={onDelete} />];\n      return [<span key='queryTagIntro'>the search query</span>, <SearchTag key='queryTag-0' value={props.q} onDelete={onDelete} />];\n    }\n  }\n\n  const generateTeamNameTag = () => {\n    if (props.teamName) {\n      const onDelete = (value) => {\n        props.updateQueryParams({ teamName: null, team_id: null })\n        document.getElementById('team-title').style.display = 'none';\n        document.getElementById('search-subtitle').style.display = 'block';\n      }\n      const humanReadableName = decodeURIComponent(props.teamName);\n\n      return [<SearchTag key='queryTag-0' value={humanReadableName} onDelete={onDelete} />];\n      return [<span key='queryTagIntro'>organized by</span>, <SearchTag key='queryTag-0' value={humanReadableName} onDelete={onDelete} />];\n    }\n  }\n\n  const generateLanguageTag = () => {\n    if (props.languages && props.languages.length > 0) {\n      const onDelete = (value) => {\n        const newLanguagesArray = props.languages.filter(v => v != value);\n        const languages = newLanguagesArray.length > 0 ? newLanguagesArray : null\n        props.updateQueryParams({ languages })\n      }\n\n      const introPhrase = props.languages.length === 1 ? 'in' : 'in';\n      let languagesTagsArray = [<span key='languageTagIntro'>{introPhrase}</span>]\n\n      props.languages.map((item, index) => {\n        if (props.languages.length > 1 && index === (props.languages.length - 1)) {\n          languagesTagsArray.push(<span key={`languageTag-${index + 2}`}>or</span>)\n        }\n        let languageName = isoCodeToLangName(item)\n\n        languagesTagsArray.push(<SearchTag value={languageName} key={`languageTag-${index}`} onDelete={() => onDelete(item)} />)\n      })\n\n      return languagesTagsArray;\n    }\n  }\n\n  const generateOrderTag = () => {\n    if (props.searchSubject === 'courses' && props.order) {\n      const onDelete = (value) => { props.updateQueryParams({ order: null }) };\n      const order = COURSES_SORT_OPTIONS.find(order => order.value == props.order)\n\n      return [<span key='queryTagIntro'>sorted by </span>, <SearchTag key='queryTag-0' value={order.label} onDelete={onDelete} />];\n    }\n  }\n\n  const generateOerTag = () => {\n    if (props.oer) {\n      const onDelete = (value) => { props.updateQueryParams({ oer: false }) };\n\n      return [<span key='queryTagIntro'>that are </span>, <SearchTag key='queryTag-0' value={\"OER\"} onDelete={onDelete} />];\n    }\n  }\n\n  const generateOnlineTag = () => {\n    if (props.online !== null) {\n      const onDelete = (value) => { props.updateQueryParams({ online: null }) };\n\n      if (props.online === 'true'){\n        return [<SearchTag key='queryTag-0' value={\"Meeting online\"} onDelete={onDelete} />];\n      } else {\n        return [<SearchTag key='queryTag-0' value={\"Meeting in person\"} onDelete={onDelete} />];\n      }\n    }\n  }\n\n\n  const generateTopicsTags = () => {\n    if (props.topics && props.topics.length > 0) {\n      const onDelete = (value) => {\n        const newTopicsArray =  props.topics.filter(v => v != value);\n        const topics = newTopicsArray.length > 0 ? newTopicsArray : null\n        props.updateQueryParams({ topics })\n      }\n\n      const introPhrase = props.topics.length === 1 ? 'the topic' : 'the topics';\n      let topicsTagsArray = [<span key='topicTagIntro'>{introPhrase}</span>]\n      topicsTagsArray = []; // TODO\n\n      props.topics.map((item, index) => {\n        if (props.topics.length > 1 && index === (props.topics.length - 1)) {\n          topicsTagsArray.push(<span key={`topicTag-${index + 2}`}>or</span>)\n        }\n\n        topicsTagsArray.push(<SearchTag value={item} key={`topicTag-${index}`} onDelete={onDelete} />)\n      })\n\n      return topicsTagsArray;\n    }\n  }\n\n  const generateLocationTag = () => {\n    if (props.latitude && props.longitude) {\n      const unit = props.useMiles ? 'miles' : 'km';\n      let value = props.useMiles ? props.distance * 0.62 : props.distance;\n      value = Math.round(value / 5) * 5;\n      const text = t`Within ${ value } ${ unit }`;\n      const onDelete = (value) => {\n        props.updateQueryParams({ latitude: null, longitude: null, distance: 50 })\n      }\n      return [<SearchTag key='locationTag-0' value={text} onDelete={onDelete} />];\n      return [<span key='locationTagIntro'>located</span>, <SearchTag key='locationTag-0' value={text} onDelete={onDelete} />];\n    } else if (props.city) {\n      const onDelete = (value) => {\n        props.updateQueryParams({ city: null })\n      }\n      return [<SearchTag key='locationTag-0' value={props.city} onDelete={onDelete} />];\n      return [<span key='locationTagIntro'>located in</span>, <SearchTag key='locationTag-0' value={props.city} onDelete={onDelete} />];\n    }\n  }\n\n  const generateTagsPhrase = (tag) => {\n    switch (tag) {\n      case 'q':\n      return generateQueryTag();\n      case 'topics':\n      return generateTopicsTags();\n      case 'location':\n      return generateLocationTag();\n      case 'teamName':\n      return generateTeamNameTag();\n      case 'language':\n      return generateLanguageTag();\n      case 'order':\n      return generateOrderTag();\n      case 'oer':\n      return generateOerTag();\n      case 'online':\n      return generateOnlineTag();\n    }\n  }\n\n  const generateSearchSummary = () => {\n    let searchSummaryItems = []\n    const forSearchSubject = <span key='resultsSummary-1'>for {SEARCH_SUBJECTS[props.searchSubject]}</span>;\n    const withSpan = <span key='resultsSummary-2'>with</span>;\n    const tagsToDisplay = ['q', 'topics', 'location', 'meetingDays', 'language', 'teamName', 'order', 'oer', 'online'];\n    const resultsCount =\n      <span key='resultsSummary-0'>{\n        ngettext(\n          msgid`Showing ${props.searchResults.length} of ${props.totalResults} result`,\n          `Showing ${props.searchResults.length} of ${props.totalResults} results`,\n          props.totalResults\n        )\n      }</span>\n\n    if (props.searchSubject === 'courses') {\n      searchSummaryItems.push(resultsCount)\n    }\n\n    tagsToDisplay.map((tag) => {\n      const tagsArray = generateTagsPhrase(tag);\n\n      if (!!tagsArray) {\n        if (searchSummaryItems.length === 1) {\n          // TODO searchSummaryItems.push(forSearchSubject)\n          if (tag === 'q' || tag === 'topics') {\n            // TODO searchSummaryItems.push(withSpan)\n          }\n        } else {\n          // TODO searchSummaryItems.push(<span key={`resultsSummary-${searchSummaryItems.length}`}>and</span>)\n        }\n        searchSummaryItems.push(tagsArray)\n      }\n    })\n\n    return searchSummaryItems;\n  }\n\n  const reloadWindow = () => {\n    if (typeof window !== `undefined`) {\n      window.history.replaceState({}, document.title, window.location.pathname)\n      window.location.reload()\n    }\n  }\n\n  const noResults = props.searchResults.length === 0;\n  const resetButton = <button key=\"reset-search\" onClick={reloadWindow} className='p2pu-btn light with-outline'>{t`reset the search form`}</button>;\n\n  return(\n    <div className='results-summary'>\n      <div className='search-tags wrapper'>\n        {generateSearchSummary()}\n      </div>\n      { noResults && !props.isLoading &&\n        <div className='clear-search'>\n          {jt`To see more results, either remove some filters or ${resetButton}`}\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default SearchTags;\n"],"mappings":"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"}