{"version":3,"sources":["../../src/Courses/CourseCard.jsx"],"names":["React","Fragment","t","jt","ngettext","msgid","COLOR_CLASSES","CourseCard","props","courseLink","moreInfo","availability","course","on_demand","handleFilterClick","topic","event","preventDefault","updateQueryParams","topics","topicsList","slice","map","colorClass","id","length","rating_number","total_ratings","rating","usage_number","learning_circles","usage","title","num","Math","round","overall_rating","caption","creator","format","link","index","language_display","course_page_url","onSelectResult","buttonText"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react'\nimport { t, jt, ngettext, msgid } from 'ttag';\n\nimport { COLOR_CLASSES } from '../utils/constants';\n\nconst CourseCard = (props) => {\n  const {\n    courseLink = false,\n    moreInfo = true,\n  } = props;\n\n  const availability = props.course.on_demand ? t`Always available` : t`Check availability`;\n  const handleFilterClick = topic => {\n    return (event) => {\n      event.preventDefault()\n      props.updateQueryParams({ topics: [topic] })\n    }\n  };\n  const topicsList = props.course.topics.slice(0, 5).map( topic => {\n    return <a className='topic' onClick={handleFilterClick(topic)} href={\"\"}>{topic}</a>\n  });\n  const colorClass = COLOR_CLASSES[(props.course.id % COLOR_CLASSES.length)];\n\n  const rating_number = props.course.total_ratings;\n  let rating = jt`${rating_number} ratings`;\n  if (props.course.total_ratings == 1){\n    rating = jt`${rating_number} rating`;\n  }\n\n  let usage_number = props.course.learning_circles;\n  let usage = jt`Used in ${usage_number} learning circles`;\n  if (props.course.learning_circles == 1){\n    usage = jt`Used in ${usage_number} learning circle`;\n  }\n\n  return (\n    <div className=\"card col-12 course horizontal in-progress\">\n      <div className=\"row g-0\">\n        <div className=\"col-12 col-md-6 col-lg-12 col-xl-7\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title\">{ props.course.title }</h3>\n            <div className=\"lowbrow row\">\n              <div className=\"stars mb-2 pe-md-0 d-flex col-12 col-md-auto\">\n                { [1,2,3,4,5].map(num => {\n                  const rating = Math.round(props.course.overall_rating * 2)/2;\n                  if (rating >= num) {\n                    return <i className=\"material-icons\" key={`star-${num}`}>star</i>\n                  } else if (rating == num - 0.5) {\n                    return <i className=\"material-icons\" key={`star-${num}`}>star_half</i>\n                  } else {\n                    return <i className=\"material-icons\" key={`star-${num}`}>star_border</i>\n                  }\n                })}\n              </div>\n              <div className=\"col-12 col-md-auto mb-2\">{rating} | {usage}</div>\n            </div>\n          </div>\n          \n          <div className=\"card-body\">\n            <p className=\"card-text\">{props.course.caption}</p>\n          </div>\n        </div>\n    \n        <footer className=\"card-footer col-12 col-md-6 col-lg-12 col-xl-5\">\n          <div className=\"table-responsive\">\n            <table className=\"table\">\n              <tbody>\n                <tr className=\"border-top-0\">\n                  <th scope=\"row\">{t`Creator`}</th>\n                  <td>{props.course.creator}</td>\n                </tr>\n                <tr>\n                  <th scope=\"row\">{t`Format`}</th>\n                  <td colSpan=\"2\">{props.course.format }</td>\n                </tr>\n                <tr className=\"website\">\n                 <th scope=\"row\">{t`Website`}</th>\n                  <td colSpan=\"2\">\n                    <a href={props.course.link} rel=\"nofollow\" target=\"_blank\">{props.course.link}</a>\n                  </td>\n                </tr>\n                { !!props.course.topics.length && \n                  <tr className=\"topics\">\n                    <th scope=\"row\">Topics</th>\n                    <td className=\"topics-list\">\n                      { topicsList.map((topic, index) => \n                          <React.Fragment key={`${index}-topic`} >\n                            {!!index && ', '}{topic}\n                          </React.Fragment>\n                      )}\n                    </td>\n                  </tr>\n                }\n                <tr>\n                  <th scope=\"row\">{t`Language`}</th>\n                  <td colSpan=\"2\">{props.course.language_display }</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div className=\"row justify-content-center justify-content-md-end\">\n            {\n              moreInfo &&\n                <a href={props.course.course_page_url} className=\"btn p2pu-btn btn-sm secondary gray col-sm-auto m-2\">{t`More details`}</a>\n            }\n            {\n              courseLink &&\n                <a href={props.course.link} className=\"btn p2pu-btn btn-sm gray col-sm-auto m-2\">Use this course</a>\n            }\n            { \n              props.onSelectResult &&\n                <a className=\"btn p2pu-btn btn-sm gray col-sm-auto m-2\" onClick={() => props.onSelectResult(props.course)}>{props.buttonText}</a>\n            }\n          </div>\n        </footer>\n      </div>\n    </div>\n  );\n}\n\nexport default CourseCard\n"],"file":"CourseCard.js"}