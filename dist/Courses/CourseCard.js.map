{"version":3,"sources":["../../src/Courses/CourseCard.jsx"],"names":["React","Fragment","t","jt","ngettext","msgid","COLOR_CLASSES","CourseCard","props","courseLink","moreInfo","availability","course","on_demand","colorClass","id","length","rating_number","total_ratings","rating","usage_number","learning_circles","usage","title","map","num","Math","round","overall_rating","caption","creator","format","link","topics","slice","join","language_display","course_page_url","onSelectResult","buttonText"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react'\nimport { t, jt, ngettext, msgid } from 'ttag';\n\nimport { COLOR_CLASSES } from '../utils/constants';\n\nconst CourseCard = (props) => {\n  const {\n    courseLink = false,\n    moreInfo = true,\n  } = props;\n\n  const availability = props.course.on_demand ? t`Always available` : t`Check availability`;\n  /*\n  const handleFilterClick = topic => {\n    return (event) => {\n      event.preventDefault()\n      props.updateQueryParams({ topics: [topic] })\n    }\n  };\n  const topicsList = props.course.topics.slice(0, 5).map( topic => {\n    return <a className='topic' onClick={handleFilterClick(topic)} href={\"\"}>{topic}</a>\n  });\n  */\n  const colorClass = COLOR_CLASSES[(props.course.id % COLOR_CLASSES.length)];\n\n  const rating_number = props.course.total_ratings;\n  let rating = jt`${rating_number} ratings`;\n  if (props.course.total_ratings == 1){\n    rating = jt`${rating_number} rating`;\n  }\n\n  let usage_number = props.course.learning_circles;\n  let usage = jt`Used in ${usage_number} learning circles`;\n  if (props.course.learning_circles == 1){\n    usage = jt`Used in ${usage_number} learning circle`;\n  }\n\n  return (\n    <div className=\"card col-12 course horizontal in-progress\">\n      <div className=\"row g-0\">\n        <div className=\"col-12 col-md-6 col-lg-12 col-xl-7\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title\">{ props.course.title }</h3>\n            <div className=\"lowbrow row\">\n              <div className=\"stars mb-2 pe-md-0 d-flex col-12 col-md-auto\">\n                { [1,2,3,4,5].map(num => {\n                  const rating = Math.round(props.course.overall_rating * 2)/2;\n                  if (rating >= num) {\n                    return <i className=\"material-icons\" key={`star-${num}`}>star</i>\n                  } else if (rating == num - 0.5) {\n                    return <i className=\"material-icons\" key={`star-${num}`}>star_half</i>\n                  } else {\n                    return <i className=\"material-icons\" key={`star-${num}`}>star_border</i>\n                  }\n                })}\n              </div>\n              <div className=\"col-12 col-md-auto mb-2\">{rating} | {usage}</div>\n            </div>\n          </div>\n          \n          <div className=\"card-body\">\n            <p className=\"card-text\">{props.course.caption}</p>\n          </div>\n        </div>\n    \n        <footer className=\"card-footer col-12 col-md-6 col-lg-12 col-xl-5\">\n          <div className=\"table-responsive\">\n            <table className=\"table\">\n              <tbody>\n                <tr className=\"border-top-0\">\n                  <th scope=\"row\">{t`Creator`}</th>\n                  <td>{props.course.creator}</td>\n                </tr>\n                <tr>\n                  <th scope=\"row\">{t`Format`}</th>\n                  <td colSpan=\"2\">{props.course.format }</td>\n                </tr>\n                <tr className=\"website\">\n                 <th scope=\"row\">{t`Website`}</th>\n                  <td colSpan=\"2\">\n                    <a href={props.course.link} rel=\"nofollow\" target=\"_blank\">{props.course.link}</a>\n                  </td>\n                </tr>\n                { !!props.course.topics.length && \n                  <tr className=\"topics\">\n                    <th scope=\"row\">Topics</th>\n                    <td className=\"topics-list\">\n                      { props.course.topics.slice(0, 5).join(', ')}\n                    </td>\n                  </tr>\n                }\n                <tr>\n                  <th scope=\"row\">{t`Language`}</th>\n                  <td colSpan=\"2\">{props.course.language_display }</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div className=\"row justify-content-center justify-content-md-end\">\n            {\n              moreInfo &&\n                <a href={props.course.course_page_url} className=\"btn p2pu-btn btn-sm secondary gray col-sm-auto m-2\">{t`More details`}</a>\n            }\n            {\n              courseLink &&\n                <a href={props.course.link} className=\"btn p2pu-btn btn-sm gray col-sm-auto m-2\">Use this course</a>\n            }\n            { \n              props.onSelectResult &&\n                <a className=\"btn p2pu-btn btn-sm gray col-sm-auto m-2\" onClick={() => props.onSelectResult(props.course)}>{props.buttonText}</a>\n            }\n          </div>\n        </footer>\n      </div>\n    </div>\n  );\n}\n\nexport default CourseCard\n"],"file":"CourseCard.js"}