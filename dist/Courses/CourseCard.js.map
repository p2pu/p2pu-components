{"version":3,"file":"CourseCard.js","names":["React","Fragment","t","jt","ngettext","msgid","COLOR_CLASSES","CourseCard","props","_props$courseLink","courseLink","_props$moreInfo","moreInfo","availability","course","on_demand","_templateObject","_taggedTemplateLiteral","_templateObject2","colorClass","id","length","rating_number","total_ratings","rating","_templateObject3","_templateObject4","usage_number","learning_circles","usage","_templateObject5","_templateObject6","createElement","className","title","map","num","Math","round","overall_rating","key","concat","caption","scope","_templateObject7","creator","_templateObject8","colSpan","format","_templateObject9","href","link","rel","target","topics","slice","join","_templateObject10","language_display","course_page_url","_templateObject11","onSelectResult","onClick","buttonText"],"sources":["../../src/Courses/CourseCard.jsx"],"sourcesContent":["import React, { Fragment } from 'react'\nimport { t, jt, ngettext, msgid } from 'ttag';\n\nimport { COLOR_CLASSES } from '../utils/constants';\n\nconst CourseCard = (props) => {\n  const {\n    courseLink = false,\n    moreInfo = true,\n  } = props;\n\n  const availability = props.course.on_demand ? t`Always available` : t`Check availability`;\n  /*\n  const handleFilterClick = topic => {\n    return (event) => {\n      event.preventDefault()\n      props.updateQueryParams({ topics: [topic] })\n    }\n  };\n  const topicsList = props.course.topics.slice(0, 5).map( topic => {\n    return <a className='topic' onClick={handleFilterClick(topic)} href={\"\"}>{topic}</a>\n  });\n  */\n  const colorClass = COLOR_CLASSES[(props.course.id % COLOR_CLASSES.length)];\n\n  const rating_number = props.course.total_ratings;\n  let rating = jt`${rating_number} ratings`;\n  if (props.course.total_ratings == 1){\n    rating = jt`${rating_number} rating`;\n  }\n\n  let usage_number = props.course.learning_circles;\n  let usage = jt`Used in ${usage_number} learning circles`;\n  if (props.course.learning_circles == 1){\n    usage = jt`Used in ${usage_number} learning circle`;\n  }\n\n  return (\n    <div className=\"card col-12 course horizontal in-progress\">\n      <div className=\"row g-0\">\n        <div className=\"col-12 col-md-6 col-lg-12 col-xl-7\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title\">{ props.course.title }</h3>\n            <div className=\"lowbrow row\">\n              <div className=\"stars mb-2 pe-md-0 d-flex col-12 col-md-auto\">\n                { [1,2,3,4,5].map(num => {\n                  const rating = Math.round(props.course.overall_rating * 2)/2;\n                  if (rating >= num) {\n                    return <i className=\"material-icons\" key={`star-${num}`}>star</i>\n                  } else if (rating == num - 0.5) {\n                    return <i className=\"material-icons\" key={`star-${num}`}>star_half</i>\n                  } else {\n                    return <i className=\"material-icons\" key={`star-${num}`}>star_border</i>\n                  }\n                })}\n              </div>\n              <div className=\"col-12 col-md-auto mb-2\">{rating} | {usage}</div>\n            </div>\n          </div>\n          \n          <div className=\"card-body\">\n            <p className=\"card-text\">{props.course.caption}</p>\n          </div>\n        </div>\n    \n        <footer className=\"card-footer col-12 col-md-6 col-lg-12 col-xl-5\">\n          <div className=\"table-responsive\">\n            <table className=\"table\">\n              <tbody>\n                <tr className=\"border-top-0\">\n                  <th scope=\"row\">{t`Creator`}</th>\n                  <td>{props.course.creator}</td>\n                </tr>\n                <tr>\n                  <th scope=\"row\">{t`Format`}</th>\n                  <td colSpan=\"2\">{props.course.format }</td>\n                </tr>\n                <tr className=\"website\">\n                 <th scope=\"row\">{t`Website`}</th>\n                  <td colSpan=\"2\">\n                    <a href={props.course.link} rel=\"nofollow\" target=\"_blank\">{props.course.link}</a>\n                  </td>\n                </tr>\n                { !!props.course.topics.length && \n                  <tr className=\"topics\">\n                    <th scope=\"row\">Topics</th>\n                    <td className=\"topics-list\">\n                      { props.course.topics.slice(0, 5).join(', ')}\n                    </td>\n                  </tr>\n                }\n                <tr>\n                  <th scope=\"row\">{t`Language`}</th>\n                  <td colSpan=\"2\">{props.course.language_display }</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div className=\"row justify-content-center justify-content-md-end\">\n            {\n              moreInfo &&\n                <a href={props.course.course_page_url} className=\"btn p2pu-btn btn-sm secondary gray col-sm-auto m-2\">{t`More details`}</a>\n            }\n            {\n              courseLink &&\n                <a href={props.course.link} className=\"btn p2pu-btn btn-sm gray col-sm-auto m-2\">Use this course</a>\n            }\n            { \n              props.onSelectResult &&\n                <a className=\"btn p2pu-btn btn-sm gray col-sm-auto m-2\" onClick={() => props.onSelectResult(props.course)}>{props.buttonText}</a>\n            }\n          </div>\n        </footer>\n      </div>\n    </div>\n  );\n}\n\nexport default CourseCard\n"],"mappings":"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"}