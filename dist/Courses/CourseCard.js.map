{"version":3,"file":"CourseCard.js","names":["React","Fragment","t","jt","ngettext","msgid","COLOR_CLASSES","CourseCard","props","courseLink","moreInfo","availability","course","on_demand","colorClass","id","length","rating_number","total_ratings","rating","usage_number","learning_circles","usage","title","map","num","Math","round","overall_rating","caption","creator","format","link","topics","slice","join","language_display","course_page_url","onSelectResult","buttonText"],"sources":["../../src/Courses/CourseCard.jsx"],"sourcesContent":["import React, { Fragment } from 'react'\nimport { t, jt, ngettext, msgid } from 'ttag';\n\nimport { COLOR_CLASSES } from '../utils/constants';\n\nconst CourseCard = (props) => {\n  const {\n    courseLink = false,\n    moreInfo = true,\n  } = props;\n\n  const availability = props.course.on_demand ? t`Always available` : t`Check availability`;\n  /*\n  const handleFilterClick = topic => {\n    return (event) => {\n      event.preventDefault()\n      props.updateQueryParams({ topics: [topic] })\n    }\n  };\n  const topicsList = props.course.topics.slice(0, 5).map( topic => {\n    return <a className='topic' onClick={handleFilterClick(topic)} href={\"\"}>{topic}</a>\n  });\n  */\n  const colorClass = COLOR_CLASSES[(props.course.id % COLOR_CLASSES.length)];\n\n  const rating_number = props.course.total_ratings;\n  let rating = jt`${rating_number} ratings`;\n  if (props.course.total_ratings == 1){\n    rating = jt`${rating_number} rating`;\n  }\n\n  let usage_number = props.course.learning_circles;\n  let usage = jt`Used in ${usage_number} learning circles`;\n  if (props.course.learning_circles == 1){\n    usage = jt`Used in ${usage_number} learning circle`;\n  }\n\n  return (\n    <div className=\"card col-12 course horizontal in-progress\">\n      <div className=\"row g-0\">\n        <div className=\"col-12 col-md-6 col-lg-12 col-xl-7\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title\">{ props.course.title }</h3>\n            <div className=\"lowbrow row\">\n              <div className=\"stars mb-2 pe-md-0 d-flex col-12 col-md-auto\">\n                { [1,2,3,4,5].map(num => {\n                  const rating = Math.round(props.course.overall_rating * 2)/2;\n                  if (rating >= num) {\n                    return <i className=\"material-icons\" key={`star-${num}`}>star</i>\n                  } else if (rating == num - 0.5) {\n                    return <i className=\"material-icons\" key={`star-${num}`}>star_half</i>\n                  } else {\n                    return <i className=\"material-icons\" key={`star-${num}`}>star_border</i>\n                  }\n                })}\n              </div>\n              <div className=\"col-12 col-md-auto mb-2\">{rating} | {usage}</div>\n            </div>\n          </div>\n          \n          <div className=\"card-body\">\n            <p className=\"card-text\">{props.course.caption}</p>\n          </div>\n        </div>\n    \n        <footer className=\"card-footer col-12 col-md-6 col-lg-12 col-xl-5\">\n          <div className=\"table-responsive\">\n            <table className=\"table\">\n              <tbody>\n                <tr className=\"border-top-0\">\n                  <th scope=\"row\">{t`Creator`}</th>\n                  <td>{props.course.creator}</td>\n                </tr>\n                <tr>\n                  <th scope=\"row\">{t`Format`}</th>\n                  <td colSpan=\"2\">{props.course.format }</td>\n                </tr>\n                <tr className=\"website\">\n                 <th scope=\"row\">{t`Website`}</th>\n                  <td colSpan=\"2\">\n                    <a href={props.course.link} rel=\"nofollow\" target=\"_blank\">{props.course.link}</a>\n                  </td>\n                </tr>\n                { !!props.course.topics.length && \n                  <tr className=\"topics\">\n                    <th scope=\"row\">Topics</th>\n                    <td className=\"topics-list\">\n                      { props.course.topics.slice(0, 5).join(', ')}\n                    </td>\n                  </tr>\n                }\n                <tr>\n                  <th scope=\"row\">{t`Language`}</th>\n                  <td colSpan=\"2\">{props.course.language_display }</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div className=\"row justify-content-center justify-content-md-end\">\n            {\n              moreInfo &&\n                <a href={props.course.course_page_url} className=\"btn p2pu-btn btn-sm secondary gray col-sm-auto m-2\">{t`More details`}</a>\n            }\n            {\n              courseLink &&\n                <a href={props.course.link} className=\"btn p2pu-btn btn-sm gray col-sm-auto m-2\">Use this course</a>\n            }\n            { \n              props.onSelectResult &&\n                <a className=\"btn p2pu-btn btn-sm gray col-sm-auto m-2\" onClick={() => props.onSelectResult(props.course)}>{props.buttonText}</a>\n            }\n          </div>\n        </footer>\n      </div>\n    </div>\n  );\n}\n\nexport default CourseCard\n"],"mappings":"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"}