{"version":3,"file":"LearningCircleCard.js","names":["React","t","Card","CardTitle","CardBody","COLOR_CLASSES","date","day","time","cardFormatting","color","label","LearningCircleCard","props","learningCircle","locale","onSelectResult","formattedStartDate","start_date","formattedStartTime","meeting_time","formattedEndDate","last_meeting_date","formattedEndTime","end_time","weekDay","schedule","meets_weekly","_templateObject","_taggedTemplateLiteral","time_zone","_templateObject2","frequency","_templateObject3","weeks","_templateObject4","name","course","title","isSignupOpen","today","Date","startDate","endDate","isUpcoming","isCompleted","isInProgress","status","colorClass","cardLabel","dateLabel","_templateObject5","_templateObject6","_templateObject7","onClick","e","preventDefault","window","location","href","url","imageUrl","defaultImageUrl","image_url","createElement","className","concat","src","alt","city","_templateObject8","facilitator","_templateObject9","venue","_templateObject10","_templateObject11"],"sources":["../../src/LearningCircles/LearningCircleCard.jsx"],"sourcesContent":["import React from 'react'\nimport { t } from \"ttag\";\nimport { Card, CardTitle, CardBody } from '../Card';\nimport { COLOR_CLASSES } from '../utils/constants';\nimport { date, day, time } from '../utils/i18n';\n\nconst cardFormatting = {\n  'upcoming': {\n    color: 'p2pu-blue',\n    label: 'Starting soon',\n    class: 'starting-soon',\n  },\n  'in_progress': {\n    color: 'p2pu-green',\n    label: 'In progress',\n    class: 'in-progress',\n  },\n  'closed': {\n    color: 'p2pu-yellow',\n    label: 'Sign up closed',\n    class: 'signup-closed',\n  },\n  'completed': {\n    color: 'p2pu-gray',\n    label: 'Completed',\n    class: 'closed',\n  }\n}\n\nconst LearningCircleCard = (props) => {\n  const { learningCircle, locale, onSelectResult } = props;\n  const formattedStartDate = date(learningCircle.start_date, locale);\n  const formattedStartTime = time(learningCircle.meeting_time);\n  const formattedEndDate = date(learningCircle.last_meeting_date, locale);\n  const formattedEndTime = time(learningCircle.end_time);\n  const weekDay = day(learningCircle.day);\n\n  const schedule = learningCircle.meets_weekly ? t`${weekDay} from ${formattedStartTime} to ${formattedEndTime} (${learningCircle.time_zone})` : t`${formattedStartTime} to ${formattedEndTime} (${learningCircle.time_zone})`;\n  const frequency = learningCircle.meets_weekly ? t`${learningCircle.weeks} weeks starting ${formattedStartDate}` : t`${learningCircle.weeks} meetings starting ${formattedStartDate}`;\n  const name = learningCircle.name ? learningCircle.name : learningCircle.course.title;\n\n  const isSignupOpen = props.isSignupOpen\n  const today = new Date()\n  const startDate = new Date(learningCircle.start_date)\n  const endDate = new Date(learningCircle.last_meeting_date)\n\n  const isUpcoming = startDate > today\n  const isCompleted = endDate < today\n  const isInProgress = startDate < today && endDate > today\n\n  const status = learningCircle.status || 'completed'\n  const colorClass = cardFormatting[status].color\n  const cardLabel = cardFormatting[status].label\n\n  let dateLabel = t`Ended ${formattedEndDate}`\n  if (status === 'in_progress' || status === 'closed') {\n    dateLabel = t`Started ${formattedStartDate}`\n  } else if (status === 'upcoming') {\n    dateLabel = t`Starting ${formattedStartDate}`\n  }\n\n  const onClick = (e) => {\n    e.preventDefault();\n    if (onSelectResult) {\n      onSelectResult(learningCircle)\n    } else {\n      window.location.href = learningCircle.url;\n    }\n  }\n  let imageUrl = props.defaultImageUrl;\n  if (learningCircle.image_url){\n    imageUrl = learningCircle.image_url;\n  }\n\n  return (\n    <div className=\"result-item grid-item col-md-6 col-lg-4\" >\n      <a className=\"learning-circle-card-link\" href={learningCircle.url} onClick={onClick} >\n        <div className={`card learning-circle ${cardFormatting[status].class}`}>\n          <div className=\"status-tag\"><span>{t(cardLabel)}</span></div>\n          <div className=\"card-image\">\n            <img src={imageUrl} alt={name} className=\"card-img-top\" />\n          </div>\n          <div className=\"card-header\">\n            <span className=\"eyebrow\">{dateLabel}</span>\n            <h3 className=\"card-title\">{name}</h3>\n          </div>\n          <div className=\"card-body\">\n            <span className=\"schedule\">\n              <i className=\"material-icons\">schedule</i>\n              { schedule }\n            </span>\n            <span className=\"duration\">\n              <i className=\"material-icons\">today</i>{ frequency }\n            </span>\n            <span className=\"city-country\">\n              <i className=\"material-icons\">place</i>\n              {learningCircle.city}\n            </span>\n            <span className=\"facilitator\">\n              <i className=\"material-icons\">face</i>\n              {t`Facilitated by ${learningCircle.facilitator}`}\n            </span>\n            <span className=\"location\">\n              <i className=\"material-icons\">store</i>\n              {t`Meeting at ${learningCircle.venue}`}\n            </span>\n          </div>\n          <div className=\"card-footer\">\n            <button className=\"btn p2pu-btn btn-sm gray mx-auto d-block\">\n              {isSignupOpen ? t`Sign up` : t`View details`}\n            </button>\n          </div>\n        </div>\n      </a>\n    </div>\n  );\n}\n\nexport default LearningCircleCard\n"],"mappings":"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"}